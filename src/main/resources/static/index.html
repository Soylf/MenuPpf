<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Меню</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">

    <style>
        body {
          margin: 0;
          font-family: 'Playfair Display', serif;
          background-color: #FDFDFD;
          color: #1c1c1c;
        }

        .up-site {
          text-align: center;
          padding: 60px 30px;
          background-color: #f8f8f8;
        }

        .up-site h1 {
          color: #15154B;
          font-size: 42px;
          margin-bottom: 20px;
        }

        .up-description {
          max-width: 800px;
          margin: 0 auto;
          font-size: 18px;
          line-height: 1.7;
          color: #444;
        }

        .section {
          margin-top: 40px;
          text-align: left;
        }

        .section-title-button {
          display: flex;
          align-items: center;
          font-size: 24px;
          color: #343434;
          cursor: pointer;
          user-select: none;
          transition: color 0.3s ease;
        }

        .section-title-button:hover {
          color: #cc2b73;
        }

       .image-wrapper {
         position: relative;
         display: inline-block;
         margin-bottom: 20px;
       }

        .main-image {
         width: 100%;
         max-width: 1200px;
         height: auto;
         border-radius: 40px;
        }

        .avatar {
          width: 32px;
          height: 32px;
          display: inline-block;
          margin-right: 10px;
        }

        .emoji {
          font-size: 24px;
        }

        .avatar {
          display: none;
          border-radius: 50%;
          object-fit: cover;
        }

        .toggle-list {
          display: none;
          margin-top: 15px;
          padding-left: 20px;
        }

        /* Вход в админку */
        .admin-lock {
          position: fixed;
          top: 16px;
          right: 16px;
          z-index: 1000;
          cursor: pointer;
        }

        .admin-lock img {
          width: 32px;
          height: 32px;
          transition: transform 0.3s ease;
        }

        .admin-lock:hover img {
          transform: scale(1.1);
        }

        /* Меню сайта */
        .menu-site {
          text-align: center;
          padding: 60px 30px;
          background-color: #FDFDFD;
        }

        .menu-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
          gap: 40px;
          max-width: 1200px;
          margin: 0 auto;
        }

        .menu-item {
          background-color: #fff;
          padding: 20px;
          border-radius: 10px;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .menu-item:hover {
          transform: translateY(-10px);
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .menu-item img {
          width: 100%;
          border-radius: 10px;
          object-fit: cover;
          max-width: 120px;
          max-height: 100px;
          margin-bottom: 10px;
        }

        .menu-item h3 {
          font-size: 24px;
          color: #343434;
          margin-bottom: 10px;
        }

        .menu-item p {
          font-size: 16px;
          color: #666;
          margin-bottom: 10px;
        }

        .menu-item .price {
          font-size: 18px;
          font-weight: bold;
          color: #cc2b73;
        }
    </style>
</head>
<body>

<div class="admin-lock" onclick="window.location.href='./adminPanel.html'">
    <img src="./imgIns/Замочек для админки.png" alt="Админка">
</div>

<div class="up-site">
    <div class="image-wrapper">
        <img src="./imgIns/t2.png" alt="Основной фон" class="main-image">
    </div>

    <h1>Добро пожаловать</h1>

    <div class="up-description">
        <p>
            Погрузитесь в мир изысканных вкусов и ароматов. Наше меню — это не просто блюда и напитки, а гастрономическая история, созданная с любовью к деталям и уважением к вашему вкусу.
        </p>

        <div class="section">
            <div class="section-title-button" id="toggle-button">
                <span class="emoji" id="emoji">⚫</span>
                <img src="./imgIns/Для аватарки почему нас...png" alt="Шеф" class="avatar" id="avatar">
                Почему выбирают нас?
            </div>
            <ul class="toggle-list" id="info-list">
                <li>Индивидуальный подход — меню адаптируется под формат и вкус вашего мероприятия.</li>
                <li>Свежесть и качество — еда готовится на заказ, из отборных ингредиентов.</li>
                <li>Эстетика — каждая деталь продумана, чтобы радовать глаз и возбуждать аппетит.</li>
            </ul>
        </div>
    </div>
</div>

<div class="menu-site">
    <h2>Наше меню</h2>
    <div id="menu-container"></div>
</div>

<script>
const toggleButton = document.getElementById('toggle-button');
const infoList = document.getElementById('info-list');
const emoji = document.getElementById('emoji');
const avatar = document.getElementById('avatar');

toggleButton.addEventListener('click', () => {
  const isOpen = infoList.style.display === 'block';
  infoList.style.display = isOpen ? 'none' : 'block';
  emoji.style.display = isOpen ? 'inline-block' : 'none';
  avatar.style.display = isOpen ? 'none' : 'inline-block';
});

function displayMenu(items) {
    const container = document.getElementById('menu-container');
    container.innerHTML = '';  // Очищаем контейнер перед добавлением новых карточек

    items.forEach(item => {
        const itemCard = document.createElement('div');
        itemCard.classList.add('menu-item');

        let imageUrl = item.image ? 'data:image/jpeg;base64,' + item.image : 'path/to/default-image.jpg';

        itemCard.innerHTML = `
            <div class="image-wrapper">
                <img src="${imageUrl}" alt="${item.name}" class="main-image">
            </div>
            <h3>${item.name}</h3>
            <p>${item.description}</p>
            <p class="price">${item.price}</p>
        `;

        container.appendChild(itemCard);
    });
}

async function fetchItems() {
    try {
        const response = await fetch('/admin/items');
        if (response.ok) {
            const items = await response.json();
            displayMenu(items);
        } else {
            console.error('Ошибка при загрузке товаров:', response.status);
        }
    } catch (error) {
        console.error('Ошибка запроса:', error);
    }
}

fetchItems();
</script>

</body>
</html>

